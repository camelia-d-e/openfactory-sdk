<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.9.0/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="stylesheet" href="../static/style/analytics.css">
</head>
<input type="hidden" id="initialChartsData" value="{{ dataitems_stats }}">
<div class="column" id="analytics-section">
    {% for dataitem in device %}
        {% if dataitem['type'] == 'tool' %}
            <div class="container">
                <div class="chart-section">
                    <h2>{{dataitem['id']}}</h2>
                    <div class="device-status">
                        <div style="display: flex; align-items: center;">
                            <span id="{{dataitem['id']}}-power-duration">Total powered duration: 0 minutes</span>
                        </div>
                    </div>
                    <div class="chart-container">
                        <svg id="{{dataitem['id']}}-pie-chart" width="150" height="150" viewBox="0 0 140 140">
                            <g transform="translate(70,70)">
                            <!-- Paths will be generated by javascript  -->
                            </g>
                        </svg>
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-color" style="background: #ffb800;"></div>
                                <span>ON</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #2F3061;"></div>
                                <span>OFF</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-color" style="background: #5BC0EB;"></div>
                                <span>UNAVAILABLE</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}
    {% endfor %}
</div>
</html>